# 关于外部变量的引用

源文件1

```c
int a[3]={1,2,3};
int *b=a;
```

源文件2

```c
extern int *a;
extern int b[];
int x,y;
x=a[1];
y=b[1];
```

当两条赋值语句执行时会发生什么？

## 1.

编译器认为a是一个指针变量

所以它提取存储在那里的指针值传入

| 变量名 | 内部值 | 地址（假设） |
| ------ | ------ | ------------ |
| a      | 1      | 1000         |
|        | 2      | 1004         |
|        | 3      | 1008         |

也就是它会提取到  1   作为   指针值

所以赋值语句  a[1]   代表的意思是     提取地址为（1+1*4）=5的内存中的值

也就会造成错乱

## 2.



编译器认为b是个数组名

所以提取b本身的地址传入

| 变量名 | 内部值 | 地址 |
| ------ | ------ | ---- |
| b      | 1000   | 2000 |

也就是它会提取到      2000  作为数组的首地址

所以赋值语句  b[1]  代表的意思是    提取地址为2004的内存中的值

同样会出错